<?php declare(strict_types=1);

namespace ThisPlugin\Support;

#------------------------------------------------------------------------------------------
#
#------------------------------------------------------------------------------------------
use Carbon\Carbon;
#------------------------------------------------------------------------------------------
#
#------------------------------------------------------------------------------------------

class DateTime {

    private static string $default_time_zone;
    private static Carbon $current_cycle;
    #------------------------------------------------------------------------------------------
    #
    #------------------------------------------------------------------------------------------
    public static function init( ) {

        self::$default_time_zone = \date_default_timezone_get();
        self::$current_cycle     = Carbon::now( self::$default_time_zone );

    }
    #------------------------------------------------------------------------------------------
    #
    #------------------------------------------------------------------------------------------
    public static function set_time_zone( $tz = null ): void { 
        
        $tz = $tz ?: self::$default_time_zone;
        \date_default_timezone_set( $tz );

    }    
    #------------------------------------------------------------------------------------------
    #
    #------------------------------------------------------------------------------------------
    public static function in_zone_rotational_cycle( ) : bool { 
        // return (bool) ( Carbon::parse(__APP_LAST_UPDATE__)->floatDiffInDays( self::$current_cycle ) <= bindec(__ASCII_BIN_RECORD_SEPARATOR__));
        return true;        
    }    
    #------------------------------------------------------------------------------------------
    #
    #------------------------------------------------------------------------------------------
}